{"ast":null,"code":"var _dec, _class, _temp;\n\nimport { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport axios from 'axios';\nimport { getUserInfo } from '../redux/user.redux';\nimport { connect } from \"react-redux\";\nlet CheckLogin = (_dec = connect(state => state, {\n  getUserInfo\n}), _dec(_class = withRouter(_class = (_temp = class CheckLogin extends Component {\n  constructor(...args) {\n    super(...args);\n    this.filterCheck = [\"/login\", \"/register\", \"app\"];\n  }\n\n  componentDidMount() {\n    if (this.filterCheck.indexOf(this.props.location.pathname) > -1) {\n      return;\n    }\n\n    axios.get('/user/info').then(res => {\n      if (res.status === 200) {\n        if (res.data.code === 0) {\n          this.props.getUserInfo(res.data.user);\n        } else {\n          this.props.history.push('/login');\n        }\n      }\n    });\n  }\n\n  render() {\n    return null;\n  }\n\n}, _temp)) || _class) || _class);\nexport default CheckLogin;","map":{"version":3,"sources":["/Users/kirito/Desktop/gambling1/src/components/checkLogin.js"],"names":["Component","withRouter","axios","getUserInfo","connect","CheckLogin","state","filterCheck","componentDidMount","indexOf","props","location","pathname","get","then","res","status","data","code","user","history","push","render"],"mappings":";;AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,qBAA1B;AACA,SAAQC,OAAR,QAAsB,aAAtB;IAOMC,U,WANLD,OAAO,CACJE,KAAK,IAAIA,KADL,EAEJ;AAACH,EAAAA;AAAD,CAFI,C,gBAKPF,U,mBALD,MAMMI,UANN,SAMyBL,SANzB,CAMmC;AAAA;AAAA;AAAA,SAC/BO,WAD+B,GACjB,CACV,QADU,EAEV,WAFU,EAGV,KAHU,CADiB;AAAA;;AAO/BC,EAAAA,iBAAiB,GAAG;AAChB,QAAG,KAAKD,WAAL,CAAiBE,OAAjB,CAAyB,KAAKC,KAAL,CAAWC,QAAX,CAAoBC,QAA7C,IAAyD,CAAC,CAA7D,EAAgE;AAC5D;AACH;;AACDV,IAAAA,KAAK,CAACW,GAAN,CAAU,YAAV,EACKC,IADL,CACUC,GAAG,IAAI;AACT,UAAGA,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAuB;AACnB,YAAGD,GAAG,CAACE,IAAJ,CAASC,IAAT,KAAkB,CAArB,EAAwB;AACpB,eAAKR,KAAL,CAAWP,WAAX,CAAuBY,GAAG,CAACE,IAAJ,CAASE,IAAhC;AACH,SAFD,MAEM;AACF,eAAKT,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACJ;AACJ;AACH,KATL;AAUH;;AACDC,EAAAA,MAAM,GAAG;AAEL,WAAO,IAAP;AACH;;AAzB8B,C;AA4BnC,eAAejB,UAAf","sourcesContent":["import {Component} from 'react';\nimport {withRouter} from 'react-router';\nimport axios from 'axios';\nimport {getUserInfo} from '../redux/user.redux';\nimport {connect} from \"react-redux\";\n@connect (\n    state => state,\n    {getUserInfo}\n)\n\n@withRouter\nclass CheckLogin extends Component {\n    filterCheck = [\n        \"/login\",\n        \"/register\",\n        \"app\"\n    ];\n\n    componentDidMount() {\n        if(this.filterCheck.indexOf(this.props.location.pathname) > -1) {\n            return;\n        }\n        axios.get('/user/info')\n            .then(res => {\n                if(res.status === 200) {\n                    if(res.data.code === 0) {\n                        this.props.getUserInfo(res.data.user)\n                    }else {\n                        this.props.history.push('/login')\n                   }\n               }\n            })\n    }\n    render() {\n\n        return null;\n    }\n}\n\nexport default CheckLogin;\n"]},"metadata":{},"sourceType":"module"}